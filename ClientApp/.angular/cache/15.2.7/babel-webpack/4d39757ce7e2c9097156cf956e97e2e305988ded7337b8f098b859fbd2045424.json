{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../Services/api.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction EvaluacionComponent_td_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.prospecto.estatus);\n  }\n}\nfunction EvaluacionComponent_td_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function EvaluacionComponent_td_52_Template_select_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.prospecto.estatus = $event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 12);\n    i0.ɵɵtext(3, \"Autorizado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"option\", 13);\n    i0.ɵɵtext(5, \"Rechazado\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.prospecto.estatus);\n  }\n}\nfunction EvaluacionComponent_tr_66_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 6)(4, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function EvaluacionComponent_tr_66_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.descargarArchivo(item_r6));\n    });\n    i0.ɵɵtext(5, \"Ver\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.nombre);\n  }\n}\nfunction EvaluacionComponent_button_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function EvaluacionComponent_button_70_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.guardarEvaluacion());\n    });\n    i0.ɵɵtext(1, \"Guardar\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EvaluacionComponent {\n  constructor(route, apiServices) {\n    this.route = route;\n    this.apiServices = apiServices;\n    this.actualizable = false;\n    this.prospecto = {\n      prospectoID: 0,\n      nombre: \"\",\n      apellidoPaterno: \"\",\n      apellidoMaterno: \"\",\n      calle: \"\",\n      numero: 0,\n      colonia: \"\",\n      codigoPostal: 0,\n      telefono: \"\",\n      rfc: \"\",\n      observaciones: \"\",\n      documentos: [],\n      estatus: \"Enviado\"\n    };\n  }\n  ngOnInit() {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.apiServices.getOne(id).subscribe(data => {\n      this.prospecto = data.data;\n      this.actualizable = this.prospecto.estatus == \"Enviado\" ? true : false;\n    });\n  }\n  descargarArchivo(item) {\n    const downloadLink = document.createElement('a');\n    const fileName = item.nombre;\n    downloadLink.href = item.archivo;\n    downloadLink.download = fileName;\n    downloadLink.click();\n  }\n  guardarEvaluacion() {\n    const {\n      prospectoID,\n      estatus,\n      observaciones\n    } = {\n      ...this.prospecto\n    };\n    const model = {\n      prospectoID: prospectoID,\n      Estatus: estatus,\n      Observaciones: observaciones\n    };\n    this.apiServices.put(model).subscribe(data => data);\n  }\n}\nEvaluacionComponent.ɵfac = function EvaluacionComponent_Factory(t) {\n  return new (t || EvaluacionComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService));\n};\nEvaluacionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EvaluacionComponent,\n  selectors: [[\"app-evaluacion-data\"]],\n  decls: 71,\n  vars: 14,\n  consts: [[1, \"table\"], [\"scope\", \"row\"], [4, \"ngIf\"], [1, \"input-group\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"colspan\", \"2\", 1, \"text-center\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-around\"], [\"href\", \"/lista\", \"role\", \"button\", 1, \"btn\", \"btn-light\"], [\"type\", \"button\", \"class\", \"btn btn-light\", 3, \"click\", 4, \"ngIf\"], [\"name\", \"estatus\", \"id\", \"estatus\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Autorizado\"], [\"value\", \"Rechazado\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", 3, \"click\"]],\n  template: function EvaluacionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"table\", 0)(2, \"tbody\")(3, \"tr\")(4, \"th\", 1);\n      i0.ɵɵtext(5, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"td\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"tr\")(9, \"th\", 1);\n      i0.ɵɵtext(10, \"Apellido Paterno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"td\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"tr\")(14, \"th\", 1);\n      i0.ɵɵtext(15, \"Apellido Materno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"td\");\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"tr\")(19, \"th\", 1);\n      i0.ɵɵtext(20, \"Calle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"td\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"tr\")(24, \"th\", 1);\n      i0.ɵɵtext(25, \"Numero\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"td\");\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"tr\")(29, \"th\", 1);\n      i0.ɵɵtext(30, \"Colonia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"td\");\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"tr\")(34, \"th\", 1);\n      i0.ɵɵtext(35, \"Codigo Postal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"td\");\n      i0.ɵɵtext(37);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"tr\")(39, \"th\", 1);\n      i0.ɵɵtext(40, \"Telefono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"td\");\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"tr\")(44, \"th\", 1);\n      i0.ɵɵtext(45, \"RFC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"td\");\n      i0.ɵɵtext(47);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"tr\")(49, \"th\", 1);\n      i0.ɵɵtext(50, \"Estatus\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(51, EvaluacionComponent_td_51_Template, 2, 1, \"td\", 2);\n      i0.ɵɵtemplate(52, EvaluacionComponent_td_52_Template, 6, 1, \"td\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"tr\")(54, \"th\", 1);\n      i0.ɵɵtext(55, \"Observaciones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"td\", 3)(57, \"textarea\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function EvaluacionComponent_Template_textarea_ngModelChange_57_listener($event) {\n        return ctx.prospecto.observaciones = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(58, \"tr\")(59, \"th\", 5);\n      i0.ɵɵtext(60, \"Documentos\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(61, \"tr\")(62, \"th\", 6);\n      i0.ɵɵtext(63, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"th\", 6);\n      i0.ɵɵtext(65, \"Archivo\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(66, EvaluacionComponent_tr_66_Template, 6, 1, \"tr\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"div\", 8)(68, \"a\", 9);\n      i0.ɵɵtext(69, \"Volver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(70, EvaluacionComponent_button_70_Template, 2, 0, \"button\", 10);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.prospecto.prospectoID);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.apellidoPaterno);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.apellidoMaterno);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.calle);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.numero);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.colonia);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.codigoPostal);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.telefono);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.prospecto.rfc);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.actualizable);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.actualizable);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospecto.observaciones);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.prospecto.documentos);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.prospecto.estatus != \"Enviado\" && ctx.prospecto.observaciones && ctx.actualizable);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","EvaluacionComponent","constructor","route","apiServices","prospectoID","nombre","apellidoPaterno","apellidoMaterno","calle","numero","colonia","codigoPostal","telefono","rfc","observaciones","documentos","estatus","ngOnInit","id","Number","snapshot","paramMap","get","getOne","subscribe","data","prospecto","actualizable","descargarArchivo","item","downloadLink","document","createElement","fileName","href","archivo","download","click","guardarEvaluacion","model","Estatus","Observaciones","put","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\angul\\Desktop\\Proyectos\\ExamenASP\\ClientApp\\src\\app\\evaluacion\\evaluacion.component.html","C:\\Users\\angul\\Desktop\\Proyectos\\ExamenASP\\ClientApp\\src\\app\\evaluacion\\evaluacion.component.ts"],"sourcesContent":["<div>\r\n  <table class=\"table\">\r\n    <tbody>\r\n      <tr>\r\n        <th scope=\"row\">ID</th>\r\n        <td>{{prospecto.prospectoID}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Apellido Paterno</th>\r\n        <td>{{prospecto.apellidoPaterno}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Apellido Materno</th>\r\n        <td>{{prospecto.apellidoMaterno}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Calle</th>\r\n        <td>{{prospecto.calle}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Numero</th>\r\n        <td>{{prospecto.numero}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Colonia</th>\r\n        <td>{{prospecto.colonia}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Codigo Postal</th>\r\n        <td>{{prospecto.codigoPostal}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Telefono</th>\r\n        <td>{{prospecto.telefono}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">RFC</th>\r\n        <td>{{prospecto.rfc}}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Estatus</th>\r\n        <td *ngIf=\"!actualizable\">{{prospecto.estatus}}</td>\r\n        <td *ngIf=\"actualizable\">\r\n          <select name=\"estatus\" id=\"estatus\" [(ngModel)]=\"prospecto.estatus\" class=\"form-select\">\r\n            <option value=\"Autorizado\">Autorizado</option>\r\n            <option value=\"Rechazado\">Rechazado</option>\r\n          </select>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Observaciones</th>\r\n        <td class=\"input-group\">\r\n            <textarea class=\"form-control\" [(ngModel)]=\"prospecto.observaciones\"></textarea>\r\n      </td>\r\n      </tr>\r\n      <tr>\r\n        <th colspan=\"2\" class=\"text-center\">Documentos</th>\r\n      </tr>\r\n      <tr>\r\n        <th class=\"text-center\">Nombre</th>\r\n        <th class=\"text-center\">Archivo</th>\r\n      </tr>\r\n      <tr *ngFor=\"let item of prospecto.documentos\">\r\n        <th class=\"text-center\">{{item.nombre}}</th>\r\n        <td class=\"text-center\"><button type=\"button\" class=\"btn btn-light\" (click)=\"descargarArchivo(item)\">Ver</button></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <div class=\"d-flex justify-content-around\">\r\n    <a href=\"/lista\" class=\"btn btn-light\" role=\"button\">Volver</a>\r\n    <button *ngIf=\"prospecto.estatus != 'Enviado' && prospecto.observaciones && actualizable\" type=\"button\" (click)=\"guardarEvaluacion()\" class=\"btn btn-light\">Guardar</button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Prospecto } from '../lista/lista.component'\r\nimport { ApiService, ProspectoPut } from '../Services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-evaluacion-data',\r\n  templateUrl: './evaluacion.component.html'\r\n})\r\nexport class EvaluacionComponent implements OnInit {\r\n  actualizable: Boolean = false;\r\n  prospecto: Prospecto = {\r\n    prospectoID: 0,\r\n    nombre: \"\",\r\n    apellidoPaterno: \"\",\r\n    apellidoMaterno: \"\",\r\n    calle: \"\",\r\n    numero: 0,\r\n    colonia: \"\",\r\n    codigoPostal: 0,\r\n    telefono: \"\",\r\n    rfc: \"\",\r\n    observaciones: \"\",\r\n    documentos: [],\r\n    estatus: \"Enviado\"\r\n  }\r\n  constructor(private route: ActivatedRoute, private apiServices: ApiService) { }\r\n\r\n  ngOnInit() {\r\n    const id = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.apiServices.getOne(id).subscribe(data => {\r\n      this.prospecto = data.data;\r\n      this.actualizable = this.prospecto.estatus == \"Enviado\" ? true : false;\r\n    });\r\n  }\r\n\r\n  descargarArchivo(item: any) {\r\n    const downloadLink = document.createElement('a');\r\n    const fileName = item.nombre;\r\n\r\n    downloadLink.href = item.archivo;\r\n    downloadLink.download = fileName;\r\n    downloadLink.click();\r\n  }\r\n  guardarEvaluacion() {\r\n    const { prospectoID, estatus, observaciones } = { ...this.prospecto }\r\n    const model: ProspectoPut = { prospectoID: prospectoID, Estatus: estatus, Observaciones: observaciones };\r\n    this.apiServices.put(model).subscribe(data => data);\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}