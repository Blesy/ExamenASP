{"ast":null,"code":"import { Prospecto } from '../../Classes/Prospecto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"documentos\"];\nfunction CapturaComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CapturaComponent_span_73_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"span\")(2, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_span_73_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const i_r12 = restoredCtx.index;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.prospectoModel.Documentos[i_r12].Nombre = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_span_73_Template_input_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const i_r12 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.prospectoModel.Documentos[i_r12].Archivo = $event);\n    })(\"change\", function CapturaComponent_span_73_Template_input_change_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const i_r12 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.handleUpload($event, i_r12));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"br\")(5, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r12 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"name\", \"nombreDocumento\" + i_r12)(\"ngModel\", ctx_r9.prospectoModel.Documentos[i_r12].Nombre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", \"documento\" + i_r12)(\"ngModel\", ctx_r9.prospectoModel.Documentos[i_r12].Archivo);\n  }\n}\nfunction CapturaComponent_span_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \" Este es un campo obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CapturaComponent {\n  constructor(apiServices) {\n    this.apiServices = apiServices;\n    this.prospectoModel = new Prospecto(\"\", \"\", \"\", \"\", 0, \"\", 0, \"\", \"\", [], \"\");\n    this.exampleModel = new Prospecto(\"Lop\", \"Martin\", \"\", \"LOPS\", 1000, \"sojq\", 80000, \"6446644664\", \"1234567890123\", [], \"\");\n    this.counter = 0;\n  }\n  ngOnInit() {\n    this.prospectoModel.Documentos.push({\n      Nombre: \"\",\n      Archivo: null\n    });\n  }\n  agregarDoc() {\n    this.prospectoModel.Documentos.push({\n      Nombre: \"\",\n      Archivo: null\n    });\n  }\n  salir() {\n    if (confirm(\"¿Está seguro que desea salir? Se perderán los datos capturados\") == true) {\n      window.location.reload();\n    }\n  }\n  handleUpload(event, id) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      this.prospectoModel.Documentos[id].Archivo = reader.result;\n    };\n  }\n  onSubmit() {\n    this.exampleModel = this.prospectoModel;\n    let {\n      Nombre,\n      ApellidoPaterno,\n      Calle,\n      Numero,\n      Colonia,\n      CodigoPostal,\n      Telefono,\n      RFC,\n      Documentos\n    } = {\n      ...this.prospectoModel\n    };\n    if (Nombre && ApellidoPaterno && Calle && Numero && Colonia && CodigoPostal && Telefono.length == 10 && RFC.length == 13 && Documentos[0].Nombre && Documentos[0].Archivo) {\n      let model = {\n        ...this.prospectoModel,\n        Observaciones: \"\",\n        Estatus: \"Enviado\"\n      };\n      model.Documentos = [];\n      for (let doc of Documentos) {\n        if (doc.Nombre.length > 0 && doc.Archivo) model.Documentos.push(doc);\n      }\n      this.apiServices.post(model).subscribe(data => console.log(data));\n    }\n  }\n}\nCapturaComponent.ɵfac = function CapturaComponent_Factory(t) {\n  return new (t || CapturaComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nCapturaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CapturaComponent,\n  selectors: [[\"app-home\"]],\n  viewQuery: function CapturaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.d1 = _t.first);\n    }\n  },\n  decls: 81,\n  vars: 19,\n  consts: [[\"name\", \"prospectoForm\", 3, \"ngSubmit\"], [\"formularioProspecto\", \"ngForm\"], [\"type\", \"text\", \"name\", \"nombre\", \"placeholder\", \"Nombre del prospecto\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"req\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"apellidoPaterno\", \"placeholder\", \"Primer apellido\", \"ng-required\", \"true\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"apellidoMaterno\", \"placeholder\", \"Segundo apellido\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"calle\", \"placeholder\", \"Calle\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"numero\", \"placeholder\", \"Numero\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"colonia\", \"placeholder\", \"Colonia\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"codigoPostal\", \"placeholder\", \"Codigo postal\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"telefono\", \"placeholder\", \"Telefono\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"rfc\", \"placeholder\", \"RFC\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"agregarDocumento\", \"type\", \"button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\"], [1, \"req\"], [\"type\", \"text\", \"placeholder\", \"Nombre del documento\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"change\"]],\n  template: function CapturaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Captura del prospecto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CapturaComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \" Nombre: \");\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"span\")(8, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.prospectoModel.Nombre = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(9, \"br\");\n      i0.ɵɵtemplate(10, CapturaComponent_span_10_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\");\n      i0.ɵɵtext(12, \" Primer apellido: \");\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"span\")(15, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.prospectoModel.ApellidoPaterno = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(16, \"br\");\n      i0.ɵɵtemplate(17, CapturaComponent_span_17_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"p\");\n      i0.ɵɵtext(19, \" Segundo apellido: \");\n      i0.ɵɵelement(20, \"br\");\n      i0.ɵɵelementStart(21, \"span\")(22, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.prospectoModel.ApellidoMaterno = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"p\");\n      i0.ɵɵtext(25, \" Calle: \");\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵelementStart(27, \"span\")(28, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.prospectoModel.Calle = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵtemplate(30, CapturaComponent_span_30_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"p\");\n      i0.ɵɵtext(32, \" Numero: \");\n      i0.ɵɵelement(33, \"br\");\n      i0.ɵɵelementStart(34, \"span\")(35, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_35_listener($event) {\n        return ctx.prospectoModel.Numero = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(36, \"br\");\n      i0.ɵɵtemplate(37, CapturaComponent_span_37_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"p\");\n      i0.ɵɵtext(39, \" Colonia: \");\n      i0.ɵɵelement(40, \"br\");\n      i0.ɵɵelementStart(41, \"span\")(42, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_42_listener($event) {\n        return ctx.prospectoModel.Colonia = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(43, \"br\");\n      i0.ɵɵtemplate(44, CapturaComponent_span_44_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"p\");\n      i0.ɵɵtext(46, \" Codigo postal: \");\n      i0.ɵɵelement(47, \"br\");\n      i0.ɵɵelementStart(48, \"span\")(49, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_49_listener($event) {\n        return ctx.prospectoModel.CodigoPostal = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(50, \"br\");\n      i0.ɵɵtemplate(51, CapturaComponent_span_51_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"p\");\n      i0.ɵɵtext(53, \" Telefono: \");\n      i0.ɵɵelement(54, \"br\");\n      i0.ɵɵelementStart(55, \"span\")(56, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_56_listener($event) {\n        return ctx.prospectoModel.Telefono = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(57, \"br\");\n      i0.ɵɵtemplate(58, CapturaComponent_span_58_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"p\");\n      i0.ɵɵtext(60, \" RFC: \");\n      i0.ɵɵelement(61, \"br\");\n      i0.ɵɵelementStart(62, \"span\")(63, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function CapturaComponent_Template_input_ngModelChange_63_listener($event) {\n        return ctx.prospectoModel.RFC = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(64, \"br\");\n      i0.ɵɵtemplate(65, CapturaComponent_span_65_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"p\");\n      i0.ɵɵtext(67, \" Documentos: \");\n      i0.ɵɵelement(68, \"br\");\n      i0.ɵɵelementStart(69, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function CapturaComponent_Template_button_click_69_listener() {\n        return ctx.agregarDoc();\n      });\n      i0.ɵɵtext(70, \"+\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(71, \"br\")(72, \"br\");\n      i0.ɵɵtemplate(73, CapturaComponent_span_73_Template, 6, 4, \"span\", 13);\n      i0.ɵɵtemplate(74, CapturaComponent_span_74_Template, 2, 0, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"button\", 14);\n      i0.ɵɵtext(76, \"Guardar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(77, \"br\")(78, \"br\");\n      i0.ɵɵelementStart(79, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function CapturaComponent_Template_button_click_79_listener() {\n        return ctx.salir();\n      });\n      i0.ɵɵtext(80, \"Salir\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.Nombre);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.exampleModel.Nombre);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.ApellidoPaterno);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.exampleModel.ApellidoPaterno);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.ApellidoMaterno);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.Calle);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.exampleModel.Calle);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.Numero);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.exampleModel.Numero <= 0);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.Colonia);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.exampleModel.Colonia);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.CodigoPostal);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.exampleModel.CodigoPostal <= 0);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.Telefono);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.exampleModel.Telefono.length != 10);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.prospectoModel.RFC);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.exampleModel.RFC.length != 13);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.prospectoModel.Documentos);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.exampleModel.Documentos[0].Nombre || !ctx.exampleModel.Documentos[0].Archivo);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,SAAS,QAAQ,yBAAyB;;;;;;;;ICQ/CC,gCAA+C;IAC7CA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAAwD;IACtDA,+CACF;IAAAA,iBAAO;;;;;IAePA,gCAA8C;IAC5CA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAAmD;IACjDA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAAgD;IAC9CA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAAyD;IACvDA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAA6D;IAC3DA,+CACF;IAAAA,iBAAO;;;;;IAQPA,gCAAwD;IACtDA,+CACF;IAAAA,iBAAO;;;;;;IAOPA,4BAAuE;IAEgBA;MAAA;MAAA;MAAA;MAAA,OAAaA,wEACtG;IAAA,EAD0I;IAApIA,iBAAuI;IACvIA,iCAAgI;IAAtFA;MAAA;MAAA;MAAA;MAAA,OAAaA,yEAA4C;IAAA,EAAP;MAAA;MAAA;MAAA;MAAA,OAAWA,kDAAuB;IAAA,EAAlC;IAA5FA,iBAAgI;IAC3HA,qBAAM;IACfA,iBAAO;;;;;IAHgBA,eAA4B;IAA5BA,gDAA4B;IAC5BA,eAAsB;IAAtBA,0CAAsB;;;;;IAG7CA,gCAAoG;IAClGA,+CACF;IAAAA,iBAAO;;;AD/FX,OAAM,MAAOC,gBAAgB;EAK3BC,YAAoBC,WAAuB;IAAvB,gBAAW,GAAXA,WAAW;IAJ/B,mBAAc,GAAG,IAAIJ,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACxE,iBAAY,GAAG,IAAIA,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,eAAe,EAAE,EAAE,EAAE,EAAE,CAAC;IACrH,YAAO,GAAG,CAAC;EAEoC;EAI/CK,QAAQ;IACN,IAAI,CAACC,cAAc,CAACC,UAAU,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAI,CAAE,CAAC;EACpE;EAEAC,UAAU;IACR,IAAI,CAACL,cAAc,CAACC,UAAU,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAI,CAAE,CAAC;EACpE;EAEAE,KAAK;IACH,IAAIC,OAAO,CAAC,gEAAgE,CAAC,IAAI,IAAI,EAAE;MACrFC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;;EAE5B;EACAC,YAAY,CAACC,KAAU,EAAEC,EAAU;IACjC,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;IAC/BD,MAAM,CAACE,aAAa,CAACL,IAAI,CAAC;IAC1BG,MAAM,CAACG,MAAM,GAAG,MAAK;MACnB,IAAI,CAACpB,cAAc,CAACC,UAAU,CAACY,EAAE,CAAC,CAACT,OAAO,GAAGa,MAAM,CAACI,MAAM;IAC5D,CAAC;EACH;EAEAC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACvB,cAAc;IACvC,IAAI;MAAEG,MAAM;MAAEqB,eAAe;MAAEC,KAAK;MAAEC,MAAM;MAAEC,OAAO;MAAEC,YAAY;MAAEC,QAAQ;MAAEC,GAAG;MAAE7B;IAAU,CAAE,GAAG;MAAE,GAAG,IAAI,CAACD;IAAc,CAAE;IAC7H,IAAIG,MAAM,IAAIqB,eAAe,IAAIC,KAAK,IAAIC,MAAM,IAAIC,OAAO,IAAIC,YAAY,IAAIC,QAAQ,CAACE,MAAM,IAAI,EAAE,IAAID,GAAG,CAACC,MAAM,IAAI,EAAE,IAAI9B,UAAU,CAAC,CAAC,CAAC,CAACE,MAAM,IAAIF,UAAU,CAAC,CAAC,CAAC,CAACG,OAAO,EAAE;MACzK,IAAI4B,KAAK,GAAkB;QAAE,GAAG,IAAI,CAAChC,cAAc;QAAEiC,aAAa,EAAE,EAAE;QAAEC,OAAO,EAAE;MAAS,CAAE;MAC5FF,KAAK,CAAC/B,UAAU,GAAG,EAAE;MACrB,KAAK,IAAIkC,GAAG,IAAIlC,UAAU,EAAE;QAC1B,IAAIkC,GAAG,CAAChC,MAAM,CAAC4B,MAAM,GAAG,CAAC,IAAII,GAAG,CAAC/B,OAAO,EAAE4B,KAAK,CAAC/B,UAAU,CAACC,IAAI,CAACiC,GAAG,CAAC;;MAEtE,IAAI,CAACrC,WAAW,CAACsC,IAAI,CAACJ,KAAK,CAAC,CAACK,SAAS,CAACC,IAAI,IAAIC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAAC;;EAGrE;;AA3CW1C,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA6C;EAAAC;IAAA;;;;;;;;;;;;;MCR7B/C,0BAAI;MAAAA,qCAAqB;MAAAA,iBAAK;MAE9BA,kCAAiF;MAAxBA;QAAA,OAAYgD,cAAU;MAAA,EAAC;MAC9EhD,yBAAG;MACDA,yBAAQ;MAAAA,qBAAM;MACdA,4BAAM;MACgEA;QAAA;MAAA,EAAmC;MAAvGA,iBAAwG;MAE1GA,qBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,mCAAiB;MAAAA,sBAAM;MACvBA,6BAAM;MACoEA;QAAA;MAAA,EAA4C;MAApHA,iBAAwI;MAE1IA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,oCAAkB;MAAAA,sBAAM;MACxBA,6BAAM;MACqEA;QAAA;MAAA,EAA4C;MAArHA,iBAAsH;MAExHA,sBAAM;MACRA,iBAAI;MACJA,0BAAG;MACDA,yBAAO;MAAAA,sBAAM;MACbA,6BAAM;MACgDA;QAAA;MAAA,EAAkC;MAAtFA,iBAAuF;MAEzFA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,0BAAQ;MAAAA,sBAAM;MACdA,6BAAM;MACoDA;QAAA;MAAA,EAAmC;MAA3FA,iBAA4F;MAE9FA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,2BAAS;MAAAA,sBAAM;MACfA,6BAAM;MACoDA;QAAA;MAAA,EAAoC;MAA5FA,iBAA6F;MAE/FA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,iCAAe;MAAAA,sBAAM;MACrBA,6BAAM;MACiEA;QAAA;MAAA,EAAyC;MAA9GA,iBAA+G;MAEjHA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,4BAAU;MAAAA,sBAAM;MAChBA,6BAAM;MACsDA;QAAA;MAAA,EAAqC;MAA/FA,iBAAgG;MAElGA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MACJA,0BAAG;MACDA,uBAAK;MAAAA,sBAAM;MACXA,6BAAM;MAC4CA;QAAA;MAAA,EAAgC;MAAhFA,iBAAiF;MAEnFA,sBAAM;MACNA,qEAEO;MACTA,iBAAI;MAEJA,0BAAG;MACDA,8BAAY;MAAAA,sBAAM;MAClBA,mCAAqE;MAA7DA;QAAA,OAASgD,gBAAY;MAAA,EAAC;MAAuChD,kBAAC;MAAAA,iBAAS;MAC/EA,sBAAM;MACNA,sEAKO;MACPA,qEAEO;MACTA,iBAAI;MAEJA,mCAAsB;MAAAA,wBAAO;MAAAA,iBAAS;MACtCA,sBAAM;MACNA,mCAAwC;MAAlBA;QAAA,OAASgD,WAAO;MAAA,EAAC;MAAChD,sBAAK;MAAAA,iBAAS;;;MAtGkBA,eAAmC;MAAnCA,mDAAmC;MAGlGA,eAA0B;MAA1BA,+CAA0B;MAOyCA,eAA4C;MAA5CA,4DAA4C;MAG/GA,eAAmC;MAAnCA,wDAAmC;MAOiCA,eAA4C;MAA5CA,4DAA4C;MAOjEA,eAAkC;MAAlCA,kDAAkC;MAGjFA,eAAyB;MAAzBA,8CAAyB;MAO0BA,eAAmC;MAAnCA,mDAAmC;MAGtFA,eAA8B;MAA9BA,mDAA8B;MAOqBA,eAAoC;MAApCA,oDAAoC;MAGvFA,eAA2B;MAA3BA,gDAA2B;MAOqCA,eAAyC;MAAzCA,yDAAyC;MAGzGA,eAAoC;MAApCA,yDAAoC;MAOiBA,eAAqC;MAArCA,qDAAqC;MAG1FA,eAAwC;MAAxCA,6DAAwC;MAOGA,eAAgC;MAAhCA,gDAAgC;MAG3EA,eAAmC;MAAnCA,wDAAmC;MASdA,eAA8B;MAA9BA,uDAA8B;MAMnDA,eAA+E;MAA/EA,wGAA+E","names":["Prospecto","i0","CapturaComponent","constructor","apiServices","ngOnInit","prospectoModel","Documentos","push","Nombre","Archivo","agregarDoc","salir","confirm","window","location","reload","handleUpload","event","id","file","target","files","reader","FileReader","readAsDataURL","onload","result","onSubmit","exampleModel","ApellidoPaterno","Calle","Numero","Colonia","CodigoPostal","Telefono","RFC","length","model","Observaciones","Estatus","doc","post","subscribe","data","console","log","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\angul\\Desktop\\Proyectos\\ExamenASP\\ClientApp\\src\\app\\captura\\captura.component.ts","C:\\Users\\angul\\Desktop\\Proyectos\\ExamenASP\\ClientApp\\src\\app\\captura\\captura.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { Prospecto } from '../../Classes/Prospecto';\r\nimport { ApiService, ProspectoPost } from '../Services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './captura.component.html',\r\n})\r\nexport class CapturaComponent implements OnInit {\r\n  prospectoModel = new Prospecto(\"\", \"\", \"\", \"\", 0, \"\", 0, \"\", \"\", [], \"\");\r\n  exampleModel = new Prospecto(\"Lop\", \"Martin\", \"\", \"LOPS\", 1000, \"sojq\", 80000, \"6446644664\", \"1234567890123\", [], \"\");\r\n  counter = 0;\r\n\r\n  constructor(private apiServices: ApiService) { }\r\n  @ViewChild('documentos')\r\n    d1!: ElementRef;\r\n\r\n  ngOnInit() {\r\n    this.prospectoModel.Documentos.push({ Nombre: \"\", Archivo: null })\r\n  }\r\n\r\n  agregarDoc() {\r\n    this.prospectoModel.Documentos.push({ Nombre: \"\", Archivo: null })\r\n  }\r\n\r\n  salir() {\r\n    if (confirm(\"¿Está seguro que desea salir? Se perderán los datos capturados\") == true) {\r\n      window.location.reload();\r\n    }\r\n  }\r\n  handleUpload(event: any, id: number) {\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      this.prospectoModel.Documentos[id].Archivo = reader.result;\r\n    };\r\n  }\r\n\r\n  onSubmit() {\r\n    this.exampleModel = this.prospectoModel;\r\n    let { Nombre, ApellidoPaterno, Calle, Numero, Colonia, CodigoPostal, Telefono, RFC, Documentos } = { ...this.prospectoModel };\r\n    if (Nombre && ApellidoPaterno && Calle && Numero && Colonia && CodigoPostal && Telefono.length == 10 && RFC.length == 13 && Documentos[0].Nombre && Documentos[0].Archivo) {\r\n      let model: ProspectoPost = { ...this.prospectoModel, Observaciones: \"\", Estatus: \"Enviado\" };\r\n      model.Documentos = [];\r\n      for (let doc of Documentos) {\r\n        if (doc.Nombre.length > 0 && doc.Archivo) model.Documentos.push(doc)\r\n      }\r\n      this.apiServices.post(model).subscribe(data => console.log(data));\r\n      \r\n    }\r\n  }\r\n}\r\n","<h1>Captura del prospecto</h1>\r\n\r\n<form name=\"prospectoForm\" #formularioProspecto=\"ngForm\" (ngSubmit)=\"onSubmit()\">\r\n  <p>\r\n    Nombre: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"nombre\" placeholder=\"Nombre del prospecto\" [(ngModel)]=\"prospectoModel.Nombre\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"!exampleModel.Nombre\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Primer apellido: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"apellidoPaterno\" placeholder=\"Primer apellido\" [(ngModel)]=\"prospectoModel.ApellidoPaterno\" ng-required=\"true\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"!exampleModel.ApellidoPaterno\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Segundo apellido: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"apellidoMaterno\" placeholder=\"Segundo apellido\" [(ngModel)]=\"prospectoModel.ApellidoMaterno\">\r\n    </span>\r\n    <br />\r\n  </p>\r\n  <p>\r\n    Calle: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"calle\" placeholder=\"Calle\" [(ngModel)]=\"prospectoModel.Calle\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"!exampleModel.Calle\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Numero: <br />\r\n    <span>\r\n      <input type=\"number\" name=\"numero\" placeholder=\"Numero\" [(ngModel)]=\"prospectoModel.Numero\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"exampleModel.Numero <= 0\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Colonia: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"colonia\" placeholder=\"Colonia\" [(ngModel)]=\"prospectoModel.Colonia\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"!exampleModel.Colonia\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Codigo postal: <br />\r\n    <span>\r\n      <input type=\"number\" name=\"codigoPostal\" placeholder=\"Codigo postal\" [(ngModel)]=\"prospectoModel.CodigoPostal\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"exampleModel.CodigoPostal <= 0\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    Telefono: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"telefono\" placeholder=\"Telefono\" [(ngModel)]=\"prospectoModel.Telefono\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"exampleModel.Telefono.length != 10\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n  <p>\r\n    RFC: <br />\r\n    <span>\r\n      <input type=\"text\" name=\"rfc\" placeholder=\"RFC\" [(ngModel)]=\"prospectoModel.RFC\">\r\n    </span>\r\n    <br />\r\n    <span *ngIf=\"exampleModel.RFC.length != 13\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n\r\n  <p>\r\n    Documentos: <br />\r\n    <button (click)=\"agregarDoc()\" name=\"agregarDocumento\" type=\"button\">+</button>\r\n    <br /><br />\r\n    <span *ngFor=\"let documento of prospectoModel.Documentos; let i=index\">\r\n      <span>\r\n        <input type=\"text\" [name]=\"'nombreDocumento'+i\" placeholder=\"Nombre del documento\" [(ngModel)]=\"prospectoModel.Documentos[i].Nombre\" />\r\n        <input type=\"file\" [name]=\"'documento'+i\" [(ngModel)]=\"prospectoModel.Documentos[i].Archivo\" (change)=\"handleUpload($event, i)\">\r\n      </span><br /><br />\r\n    </span>\r\n    <span *ngIf=\"!exampleModel.Documentos[0].Nombre || !exampleModel.Documentos[0].Archivo\" class=\"req\">\r\n      Este es un campo obligatorio.\r\n    </span>\r\n  </p>\r\n\r\n  <button type=\"submit\">Guardar</button>\r\n  <br /><br />\r\n  <button type=\"button\" (click)=\"salir()\">Salir</button>\r\n</form>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}